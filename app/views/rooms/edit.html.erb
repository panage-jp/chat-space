<div class='chat-group-form'>
  <h1>チャットグループ編集</h1>
  <%= form_for @room do |f|%>
  <form>
    <% if @room.errors.any?%>
    <div class="chat-group-form__errors">
      <h2><%=@room.errors.full_message.count%>のエラーが発生しました。
        <ul>
          <% @room.errors.full_message.each do |message|%>
          <li> <%=message%></li>
          <%end%>

        </ul>
    </div>
    <%end%>
    <div class='chat-group-form__field'>
      <div class='chat-group-form__field--left'>
        <label class="chat-group-form__label" for="chat_group_name">グループ名</label>
      </div>
      <div class='chat-group-form__field--right'>
        <%= f.text_field :name, class: "chat-group-form__input", placeholder: "グループ名を入力してください" %>
      </div>
    </div>
    <div class='chat-group-form__field'>
      <!-- この部分はインクリメンタルサーチ(ユーザー追加の非同期化)のときに使用します  -->
      <div class='chat-group-form__field--left'>
        <label class="chat-group-form__label" for="chat_group_チャットメンバーを追加">チャットメンバーを追加</label>
      </div>
      <div class='chat-group-form__field--right'>
        <div class='chat-group-form__search clearfix'>
          <input class='chat-group-form__input' id='user-search-field' placeholder='追加したいユーザー名を入力してください' type='text'>
        </div>
        <div id='user-search-result'></div>
      </div>

    </div>
    <div class='chat-group-form__field'>
      <div class='chat-group-form__field--left'>
        <label class="chat-group-form__label" for="chat_group_チャットメンバー">チャットメンバー</label>
      </div>
      <div class='chat-group-form__field--right'>
        <% @users.each do |user|%>
        <%= render :partial => "users", :locals => { user: user } %>
        <%end%>

        <div id='group-user'></div>
      </div>
    </div>

    <div class='chat-group-form__field'>
      <div class='chat-group-form__field--left'></div>
      <div class='chat-group-form__field--right'>
        <input type="submit" name="commit" value="Save" class="chat-group-form__action-btn" data-disable-with="Save" />
      </div>
    </div>
    <%end%>
  </form>
</div>
